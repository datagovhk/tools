<!DOCTYPE HTML>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>DATA.JSON Validator | DATA.GOV.HK</title>
  <link rel="stylesheet" type="text/css" href="/tools/data-json-validator/static/css/bootstrap.min.css" />
  <link rel="stylesheet" type="text/css" href="/tools/data-json-validator/static/css/main.css" />
</head>
<body>
<div class="container">
  <div class="bs-docs-section">
    <div class="row">
      <div class="col-lg-6">
        <h2>DATA.JSON Validator</h2>
      </div>
      <div class="col-lg-6">
        <form enctype="multipart/form-data" method="post" class="bs-component" id="upload-form">
          <div class="form-group">
            <div class="input-group">
              <span class="input-group-addon">File:</span>
              <input type="file" name="data_file" class="form-control" id="file-selector">
              <span class="input-group-btn">
                <button class="btn btn-primary" type="submit">Submit</button>
              </span>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
{% if data is defined %}
  <div class="bs-docs-section">
    <div class="row">
      <div class="col-lg-6">
        <div class="bs-component">
          <div class="panel panel-default">
            <div class="panel-heading"><h3 class="panel-title">{{ filename | e }}</h3></div>
            <div class="panel-body" id="raw-data-json">{{ data|e }}</div>
          </div>
        </div>
      </div>
      <div class="col-lg-6">
        <div class="bs-component">
        {% if result|length > 0 %}
          <div class="panel panel-danger">
        {% else %}
          <div class="panel panel-success">
        {% endif%}
            <div class="panel-heading"><h3 class="panel-title">Result</h3></div>
            <div class="panel-body" id="result-list">
              <ul>
              {% for message in result %}
                <li>{{ message|e }}</li>
              {% else %}
                <li>NO ERROR FOUND</li>
                <li>{{ dataset_count|e }} dataset(s) found</li> 
                <li>{{ resource_count|e }} resource(s) found</li> 
              {% endfor %}
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
{% endif %}
</div>
</body>
</html>